




































































            <li><a href="{{section.get_absolute_url}}">View</a></li>
       />
      <h3>Sections</h3>
      class="form-horizontal well">
      class="well form-inline" >
    <a href="{% url edit-page section.get_previous.get_path %}">&larr; {{section.get_previous.label}}</a>
  #children li span { position: absolute; margin-left: -1.3em; }
  #children li { margin: 0 3px 3px 3px; padding: 0.4em;
  #children-order-list {list-style-type: none; margin: 0; padding: 0;}
  .dragging {border: #f60 solid 1px;}
  .draghandle {float: left;}
  <!-- ###### Secondary Navigation ###### -->
  </style>
  <li><a href="#history-tab" data-toggle="tab">History</a></li>
  <p>Drag the <i class="icon-resize-vertical"></i> arrows to reorder pageblocks:</p>
  padding-left: 1.5em; 
  }
                        class="btn btn-primary" />
                        class="btn btn-primary" />
                        href="#edit-pageblock-{{block.id}}">
                        href="{% url export-pageblock-json block.id %}"><i class="icon-download"></i> export</a>
                        id="export-{{block.id}}"
                        rel="tooltip" title="Download JSON dump of this block"
                       <a data-toggle="modal" class="btn btn-mini"
                       <i class="icon-edit"></i>
                       <td><a href="{% url revert-to-version version.id %}" class="btn
                       <td>{{version.activity}}</td>
                       <td>{{version.saved_at}}</td>
                       <td>{{version.user}}</td>
                       <th>Actions</th>
                       <th>Activity</th>
                       <th>Saved At</th>
                       <th>User</th>
                       btn-mini btn-warning"><i class="icon-repeat"></i> revert</a></td>
                       edit</a>
               </div>
               </tr>
               </tr>
               <a class="btn btn-mini"
               <a data-toggle="modal" href="#edit-pageblock-{{block.id}}">{{block.label}}</a>
               <a href="{% url delete-pageblock block.id %}" class="btn
               <b><a data-toggle="modal" href="#edit-pageblock-{{block.id}}">{{block.block.display_name}}</a></b>
               <div class="btn-group">
               <i class="icon-resize-vertical"></i>
               <input type="submit" value="add {{blocktype.display_name}}" 
               <input type="submit" value="Save" 
               <tr>
               btn-danger btn-mini"><i class="icon-trash icon-white"></i> delete</a>
               {% endif %}
               {% if block.block.exportable %}
          background-color: #ddd;
        /* only bother submitting if there are elements to be sorted */
        req.open("POST",url,true);
        req.open("POST",url,true);
        req.send(null);
        req.send(null);
        var req = new XMLHttpRequest();
        var req = new XMLHttpRequest();
       </div>
       </div>
       </div>
       </div>
       </thead>
       <div class="span1 draghandle">
       <div class="span2">
       <div class="span3">
       <div class="span6">
       <tbody>
       <thead>
       href="#add-block-{{forloop.counter}}">Add {{blocktype.display_name}}</a></li>
       url += "section_id_" + index + "=" + id + ";";
       var id = $(element).attr('id').split("-")[1];
       worktodo = 1;
      url += "pageblock_id_" + index + "=" + id + ";";
      var id = $(element).attr('id').split("-")[1];
      worktodo = 1;
    $("#children-order-list li").each(function(index,element) {
    $("#edit-blocks-tab>div.block-dragger").each(function(index,element) {
    ,activeClass: 'dragging'
    ,activeClass: 'dragging'
    ,axis : 'y'
    ,axis: 'y'
    ,containment: 'parent'
    ,handle: '.draghandle'
    ,handle: '.draghandle'
    ,stop: function (event,ui) { saveOrderOfChildren();}
    ,stop: function (event,ui) { saveOrderOfPageBlocks();}
    ,tolerance: 'pointer'
    ,tolerance: 'pointer'
    <a href="#" class="btn" data-dismiss="modal">Cancel</a>
    <a href="#" class="btn" data-dismiss="modal">Cancel</a>
    <button type="button" class="close" data-dismiss="modal">×</button>
    <button type="button" class="close" data-dismiss="modal">×</button>
    <h3>Add {{blocktype.display_name}}</h3>
    <h3>Edit {{block.block.display_name}}</h3>
    <tr>
    containment : 'parent'
    id="child-{{child.id}}"><span title="drag to reorder pageblocks" class="draghandle ui-icon ui-icon-arrowthick-2-n-s"></span>
    if (worktodo == 1) {
    if (worktodo == 1) {
    items : 'div.block-dragger'
    var url = "{% url reorder-pageblocks section.id %}?";
    var url = "{% url reorder-section-children section.id %}?";
    var worktodo = 0;
    var worktodo = 0;
    }
    }
    });
    });
  $("#children-order-list").disableSelection();
  $("#children-order-list").sortable({
  $("#edit-blocks-tab").disableSelection();
  $("#edit-blocks-tab").sortable({
  </div>
  </div>
  </div>
  </li>
  <div class="modal-body">
  <div class="modal-body">
  <div class="modal-footer">
  <div class="modal-footer">
  <div class="modal-header">
  <li class="active"><a href="#edit-blocks-tab" data-toggle="tab">Edit Blocks</a></li>
  <li class="previous">
  <li><a href="#add-pageblock-tab" data-toggle="tab">Add Pageblock</a></li>
  <li><a href="#children-tab" data-toggle="tab">Children</a></li>
  <li><a href="#edit-page-tab" data-toggle="tab">Edit Section</a></li>
  <li{% ifequal section.id module.id %} class="active"{% endifequal %}><a href="/edit{{section.get_absolute_url}}">{{section.label}}</a></li>
  <strong>Warning!</strong> There are no pageblocks on this page. You should add some.
  {% endfor %}
  {% for section in modules %}
  {{child.label}}
  });
  });
$(function() {
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</fieldset>
</fieldset>
</form>
</form>
</form>
</form>
</form>
</li>
</script>
</script>
</table>
</tbody>
</ul>
</ul>
</ul>
</ul>
</ul>
<a href="{% url import-pageblock-json block.id %}">import json</a>
<div class="alert">
<div class="modal big-modal hide block-edit" id="edit-pageblock-{{block.id}}">
<div class="modal big-modal hide" id="add-block-{{forloop.counter}}">
<div class="modal-header">
<div class="row-fluid block-dragger" id="pageblock-{{block.id}}">
<div class="tab-content">
<div class="well">
<div id="add-pageblock-tab" class="tab-pane">
<div id="children-tab" class="tab-pane">
<div id="edit-blocks-tab" class="tab-pane active">
<div id="edit-page-tab" class="tab-pane">
<div id="history-tab" class="tab-pane">
<div>{{ ef.alt_text|safe }}</div>
<fieldset>
<fieldset><legend>Edit Page</legend>
<form action="{% url add-child-section section.id %}" method="post"
<form action="{% url add-pageblock section.id %}"
<form action="{% url delete-section section.id %}" method="post" class="well">
<form action="{% url edit-pageblock block.id %}" method="post"
<form action="{% url edit-section section.id %}" method="post"
<h1>{{ section.label }}</h1>
<h2>Add Child</h2>
<h2>Reorder Children</h2>
<input type="hidden" name="blocktype" value="{{blocktype.display_name}}"/>
<input type="submit" value="add child section" class="btn btn-primary"
<input type="submit" value="delete this page" class="btn btn-danger"/>
<input type="submit" value="save" class="btn btn-primary" />
<li class="draggable"
<li class="next"><a href="{% url edit-page section.get_next.get_path %}">{{section.get_next.label}} &rarr;</a></li>
<li><a data-toggle="modal"
<li><a href="{{section.get_absolute_url}}" class="btn-success">view page</a></li>
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.3/themes/base/jquery-ui.css" type="text/css" media="all" /> 
<p>Drag and drop arrows to reorder children</p>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.3/jquery-ui.min.js" type="text/javascript"></script>
<script type="text/javascript">
<script type="text/javascript">
<style type="text/css">
<table class="table table-bordered table-striped table-condensed">
<ul class="nav nav-tabs">
<ul class="nav">
<ul class="pager">
<ul id="children-order-list">
<ul>
class=""
enctype="multipart/form-data"
method="post">
var saveOrderOfChildren = function() {
var saveOrderOfPageBlocks = function() {
{% block content %}
{% block content-nav %}
{% block js %}
{% block moduletabs %}
{% block navrightextra %}
{% block primarynavrightextra %}
{% block sidebar %}
{% block title %}{{section.label}} (edit){% endblock %}
{% compress css %}
{% compress js %}
{% csrf_token %}
{% else %}
{% endblock %}
{% endblock %}
{% endblock %}
{% endblock %}
{% endblock %}
{% endblock %}
{% endblock %}
{% endcompress %}
{% endcompress %}
{% endfor %}
{% endfor %}
{% endfor %}
{% endfor %}
{% endfor %}
{% endfor %}
{% endif %}
{% endif %}
{% endif %}
{% endif %}
{% endif %}
{% endif %}
{% endif %}
{% endif %}
{% endwith %}
{% endwith %}
{% endwith %}
{% extends "base.html" %}
{% for block in section.pageblock_set.all %}
{% for block in section.pageblock_set.all %}
{% for blocktype in section.available_pageblocks %}
{% for blocktype in section.available_pageblocks %}
{% for child in section.get_children %}
{% for version in section.version_set.all %}
{% if block.block.importable %}
{% if block.edit_form.is_multipart %}enctype="multipart/form-data"{% endif %}>
{% if blocktype %}
{% if blocktype.add_form.is_multipart %}
{% if ef.alt_text %}
{% if section.get_next %}
{% if section.get_previous %}
{% if section.pageblock_set.count %}
{% if section.version_set.count %}
{% include "main/menu.html" %}
{% load bootstrap %}
{% load compress %}
{% load render %}
{% rendersummary block %}
{% with "/edit" as menu_base %}
{% with block.edit_form as ef %}
{% with section.get_next as next_section %}
{{ block.default_edit_form|bootstrap }}
{{ ef|bootstrap }}
{{ section.add_child_section_form|bootstrap }}
{{ section.edit_form|bootstrap }}
{{blocktype.add_form|bootstrap}}
{{section.add_pageblock_form|bootstrap}}
}
});
};